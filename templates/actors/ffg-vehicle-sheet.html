<form class="{{cssClass}} vehicle" autocomplete="off">
  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <div id="actor-id" data-actor="{{actor._id}}" style="display: none;"></div>
    <div class="header-fields">
      <div class="grid grid-2col">
        <div class="block-background">
          <div class="profile-block">
            <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100" />
          </div>
        </div>
        <div class="container flex-group-right">
          <div class="block-background defense-group">
            <div class="defense-decoration">
              <img src="systems/starwarsffg/images/shipdefence.png" />
            </div>
            <div class="defense-block">
              <div class="defense-block-title">{{localize "SWFFG.Defense"}}</div>
              <div class="defense-value fore">
                <input type="text" name="data.stats.shields.fore" value="{{data.stats.shields.fore}}" data-dtype="Number" />
                <div class="defense-value-label">{{localize "SWFFG.VehicleDefenseFore"}}</div>
              </div>
              <div class="defense-value aft">
                <input type="text" name="data.stats.shields.aft" value="{{data.stats.shields.aft}}" data-dtype="Number" />
                <div class="defense-value-label">{{localize "SWFFG.VehicleDefenseAft"}}</div>
              </div>
              <div class="defense-value port">
                <input type="text" name="data.stats.shields.port" value="{{data.stats.shields.port}}" data-dtype="Number" />
                <div class="defense-value-label">{{localize "SWFFG.VehicleDefensePort"}}</div>
              </div>
              <div class="defense-value starboard">
                <input type="text" name="data.stats.shields.starboard" value="{{data.stats.shields.starboard}}" data-dtype="Number" />
                <div class="defense-value-label">{{localize "SWFFG.VehicleDefenseStarboard"}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="container flex-group-center item-name">
          <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="{{localize 'SWFFG.VehicleName'}}" /></h1>
        </div>
      </div>
      <div class="container flex-group-center">
        <div class="grid grid-3col">
          <div class="characteristic-item flex-group-center">
            <div class="characteristic">
              <div class="characteristic-value">
                <input type="text" name="data.stats.silhouette.value" value="{{data.stats.silhouette.value}}" data-dtype="Number" maxlength="2" type="text" pattern="^(10|[1-9])$" />
              </div>
            </div>
            <div class="characteristic-label">
              {{localize "SWFFG.VehicleSilhouette"}}
            </div>
          </div>
          <div class="characteristic-item flex-group-center">
            <div class="characteristic">
              <div class="characteristic-value">
                <input type="text" name="data.stats.speed.max" value="{{data.stats.speed.max}}" data-dtype="Number" />
              </div>
            </div>
            <div class="characteristic-label">
              {{localize "SWFFG.VehicleSpeed"}}
            </div>
          </div>
          <div class="characteristic-item flex-group-center">
            <div class="characteristic">
              <div class="characteristic-value">
                <input type="text" name="data.stats.handling.value" value="{{data.stats.handling.value}}" data-dtype="Number" />
              </div>
            </div>
            <div class="characteristic-label">
              {{localize "SWFFG.VehicleHandling"}}
            </div>
          </div>
        </div>
      </div>

      <div class="container flex-group-center">
        <div class="grid grid-4col">
          <div class="resource single">
            <div class="attribute flex-group-center">
              <div class="block-background">
                <div class="block-title">
                  {{localize "SWFFG.VehicleArmor"}}
                </div>
                <div class="block-attribute">
                  <div class="block-value block-single"><input type="text" name="data.stats.armour.value" value="{{data.stats.armour.value}}" data-dtype="Number" /></div>
                </div>
              </div>
            </div>
          </div>
          <div class="resource single">
            <div class="attribute flex-group-center">
              <div class="block-background">
                <div class="block-title">
                  {{localize "SWFFG.VehicleCurrentSpeed"}}
                </div>
                <div class="block-attribute">
                  <div class="block-value block-single"><input type="text" name="data.stats.speed.value" value="{{data.stats.speed.value}}" data-dtype="Number" /></div>
                </div>
              </div>
            </div>
          </div>
          <div class="resource split">
            <div class="attribute flex-group-center">
              <div class="block-background">
                <div class="block-title">
                  {{localize "SWFFG.VehicleHullTrama"}}
                </div>
                <div class="block-attribute">
                  <div class="block-value"><input type="text" name="data.stats.hullTrauma.max" value="{{data.stats.hullTrauma.max}}" data-dtype="Number" /></div>
                  <div class="block-value"><input type="text" name="data.stats.hullTrauma.value" value="{{data.stats.hullTrauma.value}}" data-dtype="Number" /></div>
                </div>
              </div>
              <div class="block-background-shadow">
                <div class="shadow-left">
                  <div class="shadow-text">{{localize "SWFFG.Threshold"}}</div>
                </div>
                <div class="shadow-right">
                  <div class="shadow-text">{{localize "SWFFG.Current"}}</div>
                </div>
              </div>
            </div>
          </div>
          <div class="resource split">
            <div class="attribute flex-group-center">
              <div class="block-background">
                <div class="block-title">
                  {{localize "SWFFG.VehicleHullStrain"}}
                </div>
                <div class="block-attribute">
                  <div class="block-value"><input type="text" name="data.stats.systemStrain.max" value="{{data.stats.systemStrain.max}}" data-dtype="Number" /></div>
                  <div class="block-value"><input type="text" name="data.stats.systemStrain.value" value="{{data.stats.systemStrain.value}}" data-dtype="Number" /></div>
                </div>
              </div>
              <div class="block-background-shadow">
                <div class="shadow-left">
                  <div class="shadow-text">{{localize "SWFFG.Threshold"}}</div>
                </div>
                <div class="shadow-right">
                  <div class="shadow-text">{{localize "SWFFG.Current"}}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    <a class="item" data-tab="items">{{localize "SWFFG.VehicleTabCargo"}}</a>
    <a class="item" data-tab="description">{{localize "SWFFG.VehicleTabDescription"}}</a>
    <a class="item" data-tab="damage">{{localize "SWFFG.CriticalDamage"}}</a>
    <!-- <a class="item" data-tab="attributes">Modifiers</a> -->
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body vehicle">
    {{!-- Owned Items Tab --}}
    <div class="tab items" data-group="primary" data-tab="items">
      {{!-- Ship Weapons List --}}
      <table class="items">
        <thead>
          <th>{{localize "SWFFG.VehicleTabShipWeapons"}}</th>
          <th>{{localize "SWFFG.VehicleTabFiringArc"}}</th>
          <th>{{localize "SWFFG.VehicleTabDamage"}}</th>
          <th>{{localize "SWFFG.VehicleTabRange"}}</th>
          <th>{{localize "SWFFG.VehicleTabCritical"}}</th>
          <th>{{localize "SWFFG.VehicleTabSpecial"}}</th>
          <th></th>
        </thead>
        <tbody class="items-list">
          {{#each actor.items as |item id|}} {{#iff item.type '==' 'shipweapon'}}
          <tr class="item" data-item-id="{{item._id}}">
            <td class="hover">
              {{item.name}}
              <div class="tooltip">{{{item.safe_desc}}}</div>
            </td>
            <td>{{localize item.data.firingarc.label}}</td>
            <td>{{item.data.damage.value}}</td>
            <td>{{localize item.data.range.label}}</td>
            <td>{{item.data.crit.value}}</td>
            <td class="hover">
              {{{renderDiceTags item.data.special.value}}}
              <div class="tooltip">{{{renderDiceTags item.data.special.value}}}</div>
            </td>
            <td class="item-controls">
              <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
            </td>
          </tr>
          {{/iff}} {{/each}}
        </tbody>
      </table>

      {{!-- Ship Attachments List --}}
      <table class="items">
        <thead>
          <th>{{localize "SWFFG.VehicleTabShipAttachments"}}</th>
          <th>{{localize "SWFFG.VehicleTabHardPoints"}}</th>
          <th></th>
        </thead>
        <tbody class="items-list">
          {{#each actor.items as |item id|}} {{#iff item.type '==' 'shipattachment'}}
          <tr class="item" data-item-id="{{item._id}}">
            <td class="hover">
              {{item.name}}
              <div class="tooltip">{{{item.safe_desc}}}</div>
            </td>
            <td>{{item.data.hardpoints.value}}</td>
            <td class="item-controls">
              <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
            </td>
          </tr>
          {{/iff}} {{/each}}
        </tbody>
      </table>

      {{!-- Cargo Hold --}}
      <table class="items">
        <thead>
          <th>{{localize "SWFFG.VehicleTabShipCargoHold"}}</th>
          <th>{{localize "SWFFG.ItemsPrice"}}</th>
          <th>{{localize "SWFFG.ItemsRarity"}}</th>
          <th>{{localize "SWFFG.ItemsQuantity"}}</th>
          <th>{{localize "SWFFG.ItemsEncum"}}</th>
          <th></th>
        </thead>
        <tbody class="items-list">
          {{#each actor.items as |item id|}} {{#iff item.type '!=' 'shipweapon'}} {{#iff item.type '!=' 'shipattachment'}} {{#iff item.type '!=' 'talent'}} {{#iff item.type '!=' 'criticalinjury'}} {{#iff item.type '!=' 'criticaldamage'}}
          <tr class="item" data-item-id="{{item._id}}">
            <td class="hover">
              {{item.name}}
              <div class="tooltip">{{{item.safe_desc}}}</div>
            </td>
            <td>{{item.data.price.value}}</td>
            <td>{{item.data.rarity.value}}</td>
            <td>{{item.data.quantity.value}}</td>
            <td>{{item.data.encumbrance.value}}</td>
            <td class="item-controls">
              <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
            </td>
          </tr>
          {{/iff}} {{/iff}} {{/iff}} {{/iff}} {{/iff}} {{/each}}
        </tbody>
      </table>
    </div>

    {{!-- Biography Tab --}}
    <div class="tab biography active" style="height: 77%;" data-group="primary" data-tab="description">
      <div class="biography-editor">
        {{editor content=data.biography target="data.biography" button=true owner=owner editable=editable}} {{!-- Obligations Section --}}
      </div>
      <div class="container flex-group-center biography-values">
        {{!-- Hyperdrive Box --}}
        <div class="resource single">
          <div class="attribute flex-group-center">
            <div class="block-background">
              <div class="block-title">
                {{localize "SWFFG.Hyperdrive"}}
              </div>
              <div class="block-attribute">
                <select style="text-align: center;" name="data.stats.hyperdrive.value">
                  {{#select data.stats.hyperdrive.value}}
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
                  {{/select}}
                </select>
              </div>
            </div>
            <div class="block-background-shadow"></div>
          </div>
        </div>

        {{!-- Hard Points Box --}}
        <div class="resource single">
          <div class="attribute flex-group-center">
            <div class="block-background">
              <div class="block-title">
                {{localize "SWFFG.VehicleHardPoints"}}
              </div>
              <div class="block-attribute">
                <div class="block-value block-single"><input type="text" name="data.stats.customizationHardPoints.value" value="{{data.stats.customizationHardPoints.value}}" data-dtype="Number" /></div>
              </div>
            </div>
            <div class="block-background-shadow"></div>
          </div>
        </div>

        {{!-- Encumbrance Capacity Box --}}
        <div class="resource single">
          <div class="attribute flex-group-center">
            <div class="block-background">
              <div class="block-title">
                {{localize "SWFFG.VehicleEncumbranceCapacity"}}
              </div>
              <div class="block-attribute">
                <div class="block-value block-single"><input type="text" name="data.stats.encumbrance.max" value="{{data.stats.encumbrance.max}}" data-dtype="Number" /></div>
              </div>
            </div>
            <div class="block-background-shadow"></div>
          </div>
        </div>

        {{!-- Sensor Range Box --}}

        <div class="resource single">
          <div class="attribute flex-group-center">
            <div class="block-background">
              <div class="block-title">
                {{localize "SWFFG.VehicleSensorRange"}}
              </div>
              <div class="block-attribute">
                <select style="text-align: center;" name="data.stats.sensorRange.value">
                  {{#select data.stats.sensorRange.value}} {{#each this.FFG.sensor_ranges as |t|}}
                  <option value="{{t.value}}">{{localize t.label}}</option>
                  {{/each}} {{/select}}
                </select>
              </div>
            </div>
            <div class="block-background-shadow"></div>
          </div>
        </div>

        {{!-- Passenger Capacity Box --}}
        <div class="resource single">
          <div class="attribute flex-group-center">
            <div class="block-background">
              <div class="block-title">
                {{localize "SWFFG.VehiclePassengerCapacity"}}
              </div>
              <div class="block-attribute">
                <div class="block-value block-single"><input type="text" name="data.stats.passengerCapacity.value" value="{{data.stats.passengerCapacity.value}}" data-dtype="Number" /></div>
              </div>
            </div>
            <div class="block-background-shadow"></div>
          </div>
        </div>

        {{!-- Consumables Box --}}
        <div class="resource double">
          <div class="attribute flex-group-center">
            <div class="block-background">
              <div class="block-title">
                {{localize "SWFFG.Consumables"}}
              </div>
              <div class="block-attribute">
                <div class="block-value block-double">
                  <input type="text" name="data.stats.consumables.value" value="{{data.stats.consumables.value}}" data-dtype="Number" />
                  <select style="text-align: center;" name="data.stats.consumables.duration">
                    {{#select data.stats.consumables.duration}} {{#each this.FFG.vehicle_consumable_range as |t|}}
                    <option value="{{t.value}}">{{localize t.label}}</option>
                    {{/each}} {{/select}}
                  </select>
                </div>
              </div>
            </div>
            <div class="block-background-shadow"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="tab damage" data-group="primary" data-tab="damage">
      <div class="injuries">
        <div class="resource full">
          <div class="attribute flex-group-center">
            <div class="block-background">
              <div class="block-header">
                <div>{{localize "SWFFG.CriticalDamage"}}</div>
                <div class="grid grid-2col">
                  <div>{{localize "SWFFG.Result"}}</div>
                  <div>{{localize "SWFFG.Severity"}}</div>
                </div>
              </div>
              <div class="block-attribute">
                {{#each actor.items as |item id|}} {{#iff item.type '==' 'criticaldamage'}}
                <div class="grid grid-2col item" data-item-id="{{item._id}}">
                  <div>{{item.name}}</div>
                  <div class="severity">
                    {{renderMultiple item.data.severity "<img class='severity-img' src=\"/modules/special-dice-roller/public/images/sw/purple.png\" />"}}
                    <div class="item-controls">
                      <a class="item-control item-delete" title="Delete Item"><i class="fas fa-trash"></i></a>
                    </div>
                  </div>
                </div>
                {{/iff}} {{/each}}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    {{!-- Modifiers Tab --}}
    <div class="tab attributes" data-group="primary" data-tab="attributes">
      {{> "systems/starwarsffg/templates/parts/shared/ffg-modifiers.html"}}
    </div>
  </section>
</form>
